# Server Configuration
server.port=8080

# Database Configuration
# Local: H2 (file-based), Production: Neon PostgreSQL (set via env vars)
spring.config.import=optional:classpath:application-secret.properties
spring.datasource.url=${DB_URL:jdbc:h2:file:./data/farmeetdb}
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=${DB_DRIVER:org.h2.Driver}

# H2 Console (local development only)
spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
spring.h2.console.path=/h2-console

# JPA Configuration
spring.jpa.database-platform=${DB_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:update}
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# JWT Configuration
jwt.secret=${JWT_SECRET:farmeet-secret-key-for-jwt-token-generation-please-change-in-production}
jwt.expiration=86400000

# Frontend URL for CORS
frontend.url=${FRONTEND_URL:http://localhost:3000}

# Mail Configuration (Example for Gmail)
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# For now, we leave them commented or empty so it doesn't crash on startup.
# User should fill these via environment variables or directly here.
# SendGrid Configuration
spring.sendgrid.api-key=${SENDGRID_API_KEY:}
mail.from-address=${MAIL_FROM_ADDRESS:noreply@farmeet.com}

# Legacy SMTP Configuration (Unused but kept to prevent potential auto-config errors if dependency persists)
spring.mail.host=${MAIL_HOST:localhost}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:user}
spring.mail.password=${MAIL_PASSWORD:password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Admin User Configuration (set via environment variables for security)
admin.email=${ADMIN_EMAIL:}
admin.password=${ADMIN_PASSWORD:}

# Supabase Storage Configuration
supabase.url=${SUPABASE_URL:}
supabase.key=${SUPABASE_KEY:}
supabase.bucket=${SUPABASE_BUCKET:farmeet-images}

# Google OAuth2 Configuration
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:}
spring.security.oauth2.client.registration.google.scope=openid,profile,email

# Frontend URL for OAuth redirect
app.frontend-url=${FRONTEND_URL:http://localhost:3000}
